マスタースレーブ構成用のS2JDBCのJdbcManager

- maven の記述

    <repository>
      <id>troter.jp/release</id>
      <name>TROTER.JP Release Maven2 Repository</name>
      <url>http://troter.jp/maven2/release</url>
    </repository>

    <dependency>
      <groupId>jp.troter</groupId>
      <artifactId>s2jdbc-master-slave</artifactId>
      <version>1.0.0</version>
    </dependency>

- s2jdbc.dicon の例

<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE components PUBLIC "-//SEASAR//DTD S2Container 2.4//EN"
        "http://www.seasar.org/dtd/components24.dtd">
<components>
    <include path="s2jdbc-master.dicon"/><!-- masterJdbcManagerの登録を行う -->
    <include path="s2jdbc-slave1.dicon"/><!-- slave1JdbcManagerの登録を行う -->
    <include path="s2jdbc-slave2.dicon"/><!-- slave2JdbcManagerの登録を行う -->

    <!-- AbstractServiceではこのjdbcManagerを利用する -->
    <component name="jdbcManager"
      class="jp.troter.seasar.extension.jdbc.manager.MasterSlaveJdbcManagerProxy">
      <property name="masterSlaveJdbcManagerFactoryName">"masterSlaveJdbcManagerFactory"</property>
    </component>

    <!-- ファクトリ。
     | マスタースレーブの切り替えなどを担当
     | アプリケーションでマスタースレーブの切り替えを指定する場合は
     | MasterSlaveJdbcManagerFactoryUtilとあわせて利用する。
     |-->
    <component name="masterSlaveJdbcManagerFactory"
      class="jp.troter.seasar.extension.jdbc.manager.MasterSlaveJdbcManagerFactoryImpl">
      <property name="masterJdbcManagerName">"master"</property>
      <initMethod name="addSlaveJdbcManagerName"><arg>"slave1"</arg></initMethod>
      <initMethod name="addSlaveJdbcManagerName"><arg>"slave2"</arg></initMethod>
    </component>
</components>
